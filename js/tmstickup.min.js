!function(i){var e={stuckClass:"isStuck"},o=i(document),s=!1;i.fn.TMStickUp=function(t){t=i.extend(!0,{},e,t),i(this).each(function(){var e,n,a,c,r=i(this),l=!1,p=r.clone().appendTo(r.parent()).addClass(t.stuckClass),u=p.outerHeight();i(window).resize(function(){clearTimeout(c),p.css({top:l?0:-u,visibility:l?"visible":"hidden"}),c=setTimeout(function(){e=r.offset().top,n=r.outerHeight(),u=p.outerHeight(),a=i.cookie&&"opened"===i.cookie("panel1"),p.css({top:l?0:-u})},40)}).resize(),p.css({position:"fixed",width:"100%"}),r.on("rePosition",function(i,e){l&&p.animate({marginTop:e},{easing:"linear"}),a=0===e?!1:!0}),o.on("scroll",function(){var t=o.scrollTop();if(t>=e&&!l&&(p.stop().css({visibility:"visible"}).animate({top:0,marginTop:a?50:0},{}),l=!0),e+n>t&&l){if(i(".search-form_toggle").length>0){var c=i(".search-form_toggle"),r=i(".search-form");!s&&c.hasClass("active")&&(s=!0,c.removeClass("active"),r.removeClass("on").slideUp(),s=!1)}i(".sf-menu ul").css("display","none"),p.stop().animate({top:-u,marginTop:0},{duration:200,complete:function(){p.css({visibility:"hidden"})}}),l=!1}}).trigger("scroll")})}}(jQuery);